<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Galactic Wallet</title>
    
    <style>
        /* === BASIC === */
        body { 
            background-color: #000000; color: #ffffff; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0; padding: 0; padding-bottom: 90px; 
            text-align: center;
            /* –ú–æ–¥–∞–ª–∫–∞ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
            --w3m-z-index: 100000 !important;
        }

        /* HEADER */
        .header { padding: 40px 20px 20px; }
        .logo { width: 85px; border-radius: 50%; box-shadow: 0 0 60px rgba(100, 100, 255, 0.25); margin-bottom: 15px; }
        h2 { font-weight: 800; font-size: 26px; margin: 0; }

        /* –ö–ù–û–ü–ö–ê */
        #customConnectBtn {
            background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%);
            color: #000; border: none; padding: 14px 35px; border-radius: 30px;
            font-weight: 700; font-size: 16px; margin-top: 25px; cursor: pointer;
            box-shadow: 0 5px 25px rgba(255, 215, 0, 0.25); outline: none; min-width: 220px;
        }
        #customConnectBtn:active { transform: scale(0.96); opacity: 0.9; }

        /* –í–ö–õ–ê–î–ö–ò */
        .tab-content { display: none; padding: 20px; animation: fade 0.3s; }
        .tab-content.active { display: block; }
        @keyframes fade { from{opacity:0} to{opacity:1} }

        /* QR –ö–û–î */
        .qr-card {
            background: #fff; padding: 12px; border-radius: 20px; 
            width: 180px; height: 180px; 
            margin: 20px auto; 
            box-shadow: 0 10px 40px rgba(255, 255, 255, 0.05);
        }
        .qr-card img { width: 100%; display: block; }
        .address-box {
            font-family: monospace; color: #666; font-size: 12px; margin: 15px auto;
            max-width: 400px; word-break: break-all; cursor: pointer;
            background: #111; padding: 12px; border-radius: 12px; border: 1px solid #222;
        }

        /* –ú–ï–ù–Æ –î–ï–ô–°–¢–í–ò–ô (–°–ü–ò–°–ö–ò) - –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –¶–ï–ù–¢–†–û–í–ö–ò */
        .action-list { 
            background: #111; border-radius: 18px; overflow: hidden; 
            border: 1px solid #222; text-align: left;
            max-width: 500px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
            margin: 0 auto;   /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ */
        }
        .action-item {
            display: flex; align-items: center; justify-content: space-between;
            padding: 18px 20px; border-bottom: 1px solid #222;
            cursor: pointer; text-decoration: none; color: #fff;
            transition: background 0.2s;
        }
        .action-item:last-child { border-bottom: none; }
        .action-item:active { background: #1a1a1a; }
        .action-item:hover { background: #151515; } /* Hover –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ */
        
        .icon { width: 24px; text-align: center; margin-right: 15px; font-size: 18px; }
        .label { font-size: 16px; font-weight: 500; flex-grow: 1; }
        .arrow { color: #444; font-weight: bold; }

        /* –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ (NAVBAR) */
        .nav-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(10, 10, 10, 0.90); backdrop-filter: blur(20px);
            border-top: 1px solid #222; 
            z-index: 5000;
            display: flex; justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
        }
        .nav-container {
            display: flex; justify-content: space-around;
            width: 100%; max-width: 500px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –Ω–∞ –ü–ö */
            padding: 12px 0 35px;
        }
        .nav-btn {
            background: none; border: none; color: #555;
            font-size: 10px; font-weight: 600; cursor: pointer;
            display: flex; flex-direction: column; align-items: center; width: 33%;
            transition: color 0.2s;
        }
        .nav-btn.active { color: #fff; }
        .nav-btn span { font-size: 24px; margin-bottom: 4px; }
    </style>

    <!-- AppKit -->
    <script type="module">
        import { createWeb3Modal, defaultConfig } from 'https://esm.sh/@web3modal/ethers@5.0.0'

        // 1. PROJECT ID
        const projectId = '7b83e930c9c584b3d751e271babdb18d'

        // 2. NETWORK
        const polygon = {
            chainId: 137, name: 'Polygon', currency: 'POL',
            explorerUrl: 'https://polygonscan.com', rpcUrl: 'https://polygon-rpc.com'
        }

        // 3. METADATA
        const metadata = {
            name: 'Galactic Wallet', description: 'App', url: 'https://qendl.github.io',
            icons: ['https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png']
        }

        // 4. INIT
        const modal = createWeb3Modal({
            ethersConfig: defaultConfig({ metadata }),
            chains: [polygon],
            projectId,
            enableAnalytics: false,
            enableEmail: false, 
            socials: false, 
            swaps: false,
            onramp: false,
            allWallets: 'SHOW',
            themeMode: 'dark',
            themeVariables: {
                '--w3m-accent': '#FFD700',
                '--w3m-z-index': '100000'
            }
        })

        // BUTTON LOGIC
        const btn = document.getElementById('customConnectBtn');
        btn.addEventListener('click', () => {
            modal.getIsConnected() ? modal.open({ view: 'Account' }) : modal.open({ view: 'Connect' });
        })

        modal.subscribeProvider((state) => {
            if (state.isConnected && state.address) {
                const shortAddr = state.address.substring(0,6) + "..." + state.address.substring(38);
                btn.innerText = "‚úÖ " + shortAddr;
                btn.style.background = "#151515"; btn.style.color = "#4cd964"; btn.style.border = "1px solid #4cd964";
            } else {
                btn.innerText = "Connect Wallet";
                btn.style.background = "linear-gradient(135deg, #FFD700 0%, #FDB931 100%)";
                btn.style.color = "#000"; btn.style.border = "none";
            }
        })
    </script>
</head>
<body>

    <!-- Header -->
    <div class="header">
        <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png" class="logo">
        <h2>Galactic Wallet</h2>
        <button id="customConnectBtn">Connect Wallet</button>
    </div>

    <!-- 1. WALLET -->
    <div id="tab-wallet" class="tab-content active">
        <p style="color:#666; font-size:11px; font-weight:700; margin-top:10px;">RECEIVE ASSETS</p>
        
        <div class="qr-card">
            <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/QR_Official.png">
        </div>
        
        <div class="address-box" onclick="copyAddr()">
            0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378 ‚ùê
        </div>
    </div>

    <!-- 2. MARKET -->
    <div id="tab-market" class="tab-content">
        <div class="action-list">
            <div class="action-item" onclick="window.open('https://app.uniswap.org/explore/tokens/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">ü¶Ñ</span> <span class="label">Uniswap Pool</span> <span class="arrow">‚Üó</span>
            </div>
            <div class="action-item" onclick="window.open('https://www.geckoterminal.com/ru/polygon_pos/pools/0x47f05d2098645a458f8631af45e1884c594b19e2b23a595c0f88148c6f6544e7')">
                <span class="icon">ü¶é</span> <span class="label">GeckoTerminal</span> <span class="arrow">‚Üó</span>
            </div>
            <div class="action-item" onclick="window.open('https://dexscreener.com/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìä</span> <span class="label">DEXScreener</span> <span class="arrow">‚Üó</span>
            </div>
        </div>
    </div>

    <!-- 3. INFO -->
    <div id="tab-info" class="tab-content">
        <div class="action-list">
            <a href="https://t.me/Galactic_Credit_Network" target="_blank" class="action-item">
                <span class="icon">üì¢</span> <span class="label">Official Channel</span> <span class="arrow">‚Ä∫</span>
            </a>
            <a href="https://github.com/Qendl/Galactic-Credit-Standard" target="_blank" class="action-item">
                <span class="icon">üêô</span> <span class="label">GitHub Source</span> <span class="arrow">‚Ä∫</span>
            </a>
            <div class="action-item" onclick="window.open('https://polygonscan.com/token/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìú</span> <span class="label">Verified Contract</span> <span class="arrow">‚Üó</span>
            </div>
        </div>
        <p style="margin-top:30px; color:#333; font-size:12px;">App v6.0 ‚Ä¢ Secure</p>
    </div>

    <!-- NAVIGATION BAR -->
    <div class="nav-bar">
        <div class="nav-container">
            <button class="nav-btn active" onclick="switchTab('tab-wallet', this)">
                <span>‚üê</span>Wallet
            </button>
            <button class="nav-btn" onclick="switchTab('tab-market', this)">
                <span>üìä</span>Market
            </button>
            <button class="nav-btn" onclick="switchTab('tab-info', this)">
                <span>‚ÑπÔ∏è</span>Info
            </button>
        </div>
    </div>

    <script>
        function switchTab(id, el) {
            document.querySelectorAll('.tab-content').forEach(x => x.style.display = 'none');
            document.querySelectorAll('.nav-btn').forEach(x => x.classList.remove('active'));
            document.getElementById(id).style.display = 'block';
            el.classList.add('active');
        }
        // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.getElementById('tab-wallet').style.display = 'block';

        function copyAddr() {
            navigator.clipboard.writeText('0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378');
            alert('Copied!');
        }
    </script>
</body>
</html>
