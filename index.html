<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Galactic Wallet</title>
    
    <style>
        /* === BASIC STYLES (PURE BLACK) === */
        body { 
            background-color: #000000; 
            color: #ffffff; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0; 
            padding: 0;
            padding-bottom: 90px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –º–µ–Ω—é */
            text-align: center;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            
            /* –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –§–ò–ö–° –î–õ–Ø TELEGRAM: –û–∫–Ω–æ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
            --w3m-z-index: 999999 !important;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* HEADER */
        .header { padding: 40px 20px 20px; }
        
        .logo { 
            width: 85px; height: 85px; 
            border-radius: 50%; 
            box-shadow: 0 0 60px rgba(100, 100, 255, 0.25);
            margin-bottom: 15px;
        }
        
        h2 { font-weight: 800; font-size: 26px; margin: 0; letter-spacing: -0.5px; }
        
        /* –ó–û–õ–û–¢–ê–Ø –ö–ù–û–ü–ö–ê CONNECT */
        #customConnectBtn {
            background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%);
            color: #000; border: none;
            padding: 14px 35px; border-radius: 30px;
            font-weight: 700; font-size: 16px;
            margin-top: 25px; cursor: pointer;
            box-shadow: 0 5px 25px rgba(255, 215, 0, 0.25);
            transition: transform 0.1s;
            outline: none;
            min-width: 220px;
        }
        #customConnectBtn:active { transform: scale(0.96); opacity: 0.9; }

        /* –í–ö–õ–ê–î–ö–ò */
        .tab-content { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* QR –ö–ê–†–¢–û–ß–ö–ê */
        .qr-card {
            background: #fff;
            padding: 12px;
            border-radius: 20px;
            width: 200px;
            height: 200px;
            margin: 20px auto 25px;
            box-shadow: 0 10px 40px rgba(255, 255, 255, 0.05);
        }
        .qr-card img { width: 100%; display: block; }
        
        .address-box {
            font-family: monospace; color: #666; font-size: 12px; 
            margin-top: 15px; word-break: break-all; cursor: pointer;
            background: #111; padding: 12px; border-radius: 12px; border: 1px solid #222;
        }

        /* –ú–ï–ù–Æ –î–ï–ô–°–¢–í–ò–ô (LINKS) */
        .action-list { 
            background: #111; 
            border-radius: 18px; 
            overflow: hidden; 
            border: 1px solid #222;
            text-align: left;
        }
        
        .action-item {
            display: flex; align-items: center; justify-content: space-between;
            padding: 18px 20px;
            border-bottom: 1px solid #222;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            transition: background 0.2s;
        }
        .action-item:last-child { border-bottom: none; }
        .action-item:active { background: #1a1a1a; }
        
        .icon { font-size: 18px; margin-right: 15px; width: 24px; text-align: center; }
        .label { font-size: 16px; font-weight: 500; flex-grow: 1; }
        .arrow { color: #444; font-weight: bold; font-size: 14px; }

        /* –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ */
        .nav-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(10, 10, 10, 0.90);
            backdrop-filter: blur(20px);
            border-top: 1px solid #222;
            display: flex; justify-content: space-around;
            padding: 12px 0 35px; /* Safe area for iPhone home bar */
            z-index: 5000;
        }
        .nav-btn {
            background: none; border: none; color: #555;
            font-size: 10px; font-weight: 600;
            display: flex; flex-direction: column; align-items: center;
            width: 33%; transition: color 0.2s;
        }
        .nav-btn.active { color: #fff; }
        .nav-btn span.nav-icon { font-size: 24px; margin-bottom: 4px; display: block; }

    </style>

    <!-- AppKit (LOGIC) -->
    <script type="module">
        import { createWeb3Modal, defaultConfig } from 'https://esm.sh/@web3modal/ethers@5.0.0'

        // 1. –í–ê–® PROJECT ID
        const projectId = '7b83e930c9c584b3d751e271babdb18d'

        // 2. –°–µ—Ç—å
        const polygon = {
            chainId: 137,
            name: 'Polygon',
            currency: 'POL',
            explorerUrl: 'https://polygonscan.com',
            rpcUrl: 'https://polygon-rpc.com'
        }

        const metadata = {
            name: 'Galactic Wallet',
            description: 'My Wallet',
            url: 'https://qendl.github.io',
            icons: ['https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png']
        }

        // 3. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–í–´–†–ï–ó–ê–ï–ú EMAIL)
        const modal = createWeb3Modal({
            ethersConfig: defaultConfig({ metadata }),
            chains: [polygon],
            projectId,
            enableAnalytics: false,
            // –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Ü. —Ñ—É–Ω–∫—Ü–∏–π
            features: {
                email: false,
                socials: false,
                history: false,
                swaps: false,
                onramp: false 
            },
            allWallets: 'SHOW', 
            themeMode: 'dark',
            themeVariables: {
                '--w3m-accent': '#FFD700',
                '--w3m-border-radius-master': '2px',
                '--w3m-z-index': '999999'
            }
        })

        // === –õ–û–ì–ò–ö–ê –ö–ù–û–ü–ö–ò ===
        const btn = document.getElementById('customConnectBtn');

        btn.addEventListener('click', () => {
            if (modal.getIsConnected()) {
                modal.open({ view: 'Account' });
            } else {
                modal.open({ view: 'Connect' });
            }
        })

        modal.subscribeProvider((state) => {
            if (state.isConnected && state.address) {
                const shortAddr = state.address.substring(0,6) + "..." + state.address.substring(38);
                btn.innerText = "‚úÖ " + shortAddr;
                btn.style.background = "#151515";
                btn.style.color = "#4cd964"; 
                btn.style.border = "1px solid #4cd964";
            } else {
                btn.innerText = "Connect Wallet";
                btn.style.background = "linear-gradient(135deg, #FFD700 0%, #FDB931 100%)";
                btn.style.color = "#000";
                btn.style.border = "none";
            }
        })
    </script>
</head>
<body>

    <!-- –®–ê–ü–ö–ê -->
    <div class="header fade-in">
        <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png" class="logo">
        <h2>Galactic Wallet</h2>
        <!-- –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
        <button id="customConnectBtn">Connect Wallet</button>
    </div>

    <!-- –¢–ê–ë 1: –ö–û–®–ï–õ–ï–ö -->
    <div id="tab-wallet" class="tab-content active fade-in">
        <p style="color:#666; font-size:11px; text-transform:uppercase; letter-spacing:1px; margin-top:15px; font-weight:700;">YOUR RECEIVE ADDRESS</p>
        
        <div class="qr-card">
            <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/QR_Official.png">
        </div>
        
        <div class="address-box" onclick="copyAddr()">
            0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378 ‚ùê
        </div>
    </div>

    <!-- –¢–ê–ë 2: –†–´–ù–û–ö -->
    <div id="tab-market" class="tab-content fade-in">
        <div class="action-list">
            <div class="action-item" onclick="window.open('https://app.uniswap.org/explore/tokens/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">ü¶Ñ</span>
                <span class="label">Uniswap Pool</span>
                <span class="arrow">‚Üó</span>
            </div>

            <div class="action-item" onclick="window.open('https://www.geckoterminal.com/ru/polygon_pos/pools/0x47f05d2098645a458f8631af45e1884c594b19e2b23a595c0f88148c6f6544e7')">
                <span class="icon">ü¶é</span>
                <span class="label">GeckoTerminal</span>
                <span class="arrow">‚Üó</span>
            </div>

            <div class="action-item" onclick="window.open('https://dexscreener.com/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìä</span>
                <span class="label">DEXScreener</span>
                <span class="arrow">‚Üó</span>
            </div>
        </div>
    </div>

    <!-- –¢–ê–ë 3: –ò–ù–§–û -->
    <div id="tab-info" class="tab-content fade-in">
        <div class="action-list">
            <a href="https://t.me/Galactic_Credit_Network" target="_blank" class="action-item">
                <span class="icon">üì¢</span>
                <span class="label">Official Channel</span>
                <span class="arrow">‚Ä∫</span>
            </a>

            <a href="https://github.com/Qendl/Galactic-Credit-Standard" target="_blank" class="action-item">
                <span class="icon">üêô</span>
                <span class="label">GitHub Source</span>
                <span class="arrow">‚Ä∫</span>
            </a>

            <div class="action-item" onclick="window.open('https://polygonscan.com/token/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìú</span>
                <span class="label">Verified Contract</span>
                <span class="arrow">‚Üó</span>
            </div>
        </div>
        <p style="color:#333; font-size:12px; margin-top:30px;">Galactic App v5.0 ‚Ä¢ Polygon</p>
    </div>

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div class="nav-bar">
        <button class="nav-btn active" onclick="switchTab('tab-wallet', this)">
            <span class="nav-icon">‚üê</span>
            <span>Wallet</span>
        </button>
        <button class="nav-btn" onclick="switchTab('tab-market', this)">
            <span class="nav-icon">üìä</span>
            <span>Market</span>
        </button>
        <button class="nav-btn" onclick="switchTab('tab-info', this)">
            <span class="nav-icon">‚ÑπÔ∏è</span>
            <span>Info</span>
        </button>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è —Ç–∞–±–æ–≤
        function switchTab(id, navBtn) {
            document.querySelectorAll('.tab-content').forEach(x => x.style.display = 'none');
            document.querySelectorAll('.nav-btn').forEach(x => x.classList.remove('active'));
            
            document.getElementById(id).style.display = 'block';
            navBtn.classList.add('active');
        }
        
        // –ü–æ–∫–∞–∑ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.getElementById('tab-wallet').style.display = 'block';

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
        function copyAddr() {
            navigator.clipboard.writeText('0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378');
            if(navigator.vibrate) navigator.vibrate(50);
            alert('Copied!');
        }
    </script>
</body>
</html>
