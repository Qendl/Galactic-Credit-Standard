<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Galactic Wallet</title>
    
    <style>
        /* === 1. BASIC STYLES (PURE BLACK) === */
        body { 
            background-color: #000000; 
            color: #ffffff; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0; 
            padding: 0;
            padding-bottom: 90px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é */
            text-align: center;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* HEADER */
        .header { padding: 40px 20px 10px; }
        
        .logo { 
            width: 90px; height: 90px; 
            border-radius: 50%; 
            box-shadow: 0 0 60px rgba(100, 100, 255, 0.25);
            margin-bottom: 15px;
        }
        
        h2 { font-weight: 800; font-size: 26px; margin: 0; letter-spacing: -0.5px; }
        
        /* –ö–ù–û–ü–ö–ê –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø (–ó–û–õ–û–¢–ê–Ø) */
        #customConnectBtn {
            background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%);
            color: #000; border: none;
            padding: 14px 30px; border-radius: 30px;
            font-weight: 700; font-size: 16px;
            margin-top: 25px; cursor: pointer;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2);
            transition: transform 0.1s;
            outline: none;
            min-width: 200px;
        }
        #customConnectBtn:active { transform: scale(0.95); opacity: 0.9; }

        /* –í–ö–õ–ê–î–ö–ò */
        .tab-content { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* QR –ö–ê–†–¢–û–ß–ö–ê */
        .qr-card {
            background: #fff;
            padding: 12px;
            border-radius: 18px;
            width: 180px;
            height: 180px;
            margin: 10px auto 20px;
            box-shadow: 0 10px 40px rgba(255, 255, 255, 0.05);
        }
        .qr-card img { width: 100%; display: block; }

        /* –°–ü–ò–°–û–ö –î–ï–ô–°–¢–í–ò–ô (–ú–µ–Ω—é —Å—Å—ã–ª–æ–∫) */
        .action-list { 
            background: #111; 
            border-radius: 16px; 
            overflow: hidden; 
            border: 1px solid #222;
            text-align: left;
        }
        
        .action-item {
            display: flex; align-items: center; justify-content: space-between;
            padding: 16px 20px;
            border-bottom: 1px solid #222;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            transition: 0.2s;
        }
        .action-item:last-child { border-bottom: none; }
        .action-item:active { background: #222; }
        
        .icon { font-size: 18px; margin-right: 15px; width: 24px; text-align: center; }
        .label { font-size: 16px; font-weight: 500; flex-grow: 1; }
        .arrow { color: #444; font-weight: bold; font-size: 14px; }

        /* –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ –ù–ê–í–ò–ì–ê–¶–ò–ò */
        .nav-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(15px);
            border-top: 1px solid #222;
            display: flex; justify-content: space-around;
            padding: 12px 0 35px; /* –£—á–µ—Ç Home Bar iPhone */
            z-index: 1000;
        }
        .nav-btn {
            background: none; border: none; color: #555;
            font-size: 10px; font-weight: 600;
            display: flex; flex-direction: column; align-items: center;
            width: 33%;
        }
        .nav-btn.active { color: #fff; }
        .nav-btn span.icon { font-size: 22px; margin-bottom: 4px; }

        .contract-addr { 
            font-family: monospace; color: #444; 
            font-size: 11px; margin-top: 20px; 
            word-break: break-all; cursor: pointer; 
        }

        /* FIX –î–õ–Ø TELEGRAM: –û–∫–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—Ö—É */
        :root { --w3m-z-index: 10000 !important; }

    </style>

    <!-- AppKit (–õ–û–ì–ò–ö–ê –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø) -->
    <script type="module">
        import { createWeb3Modal, defaultConfig } from 'https://esm.sh/@web3modal/ethers@5.0.0'

        // 1. –í–ê–® –õ–ò–ß–ù–´–ô PROJECT ID
        const projectId = '7b83e930c9c584b3d751e271babdb18d'

        // 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ (Polygon)
        const polygon = {
            chainId: 137,
            name: 'Polygon',
            currency: 'POL',
            explorerUrl: 'https://polygonscan.com',
            rpcUrl: 'https://polygon-rpc.com'
        }

        // 3. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞
        const metadata = {
            name: 'Galactic Wallet',
            description: 'Official Payment App',
            url: 'https://qendl.github.io',
            icons: ['https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png']
        }

        // 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Telegram)
        const modal = createWeb3Modal({
            ethersConfig: defaultConfig({ metadata }),
            chains: [polygon],
            projectId,
            enableAnalytics: false,
            enableEmail: false, // –û—Ç–∫–ª—é—á–∞–µ–º Email - —Å—Ä–∞–∑—É —Å–ø–∏—Å–æ–∫ –∫–æ—à–µ–ª—å–∫–æ–≤
            allWallets: 'SHOW', // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "All Wallets"
            themeMode: 'dark',
            themeVariables: {
                '--w3m-accent': '#FFD700', // –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                '--w3m-border-radius-master': '1px'
            }
        })

        // === –õ–û–ì–ò–ö–ê –ö–ê–°–¢–û–ú–ù–û–ô –ö–ù–û–ü–ö–ò ===
        // –≠—Ç–æ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ
        const btn = document.getElementById('customConnectBtn');

        btn.addEventListener('click', () => {
            if (modal.getIsConnected()) {
                // –ï—Å–ª–∏ —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω -> –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                modal.open({ view: 'Account' });
            } else {
                // –ï—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω -> –æ—Ç–∫—Ä—ã—Ç—å –≤—ã–±–æ—Ä –∫–æ—à–µ–ª—å–∫–∞
                modal.open({ view: 'Connect' });
            }
        })

        // –°–ª–µ–¥–∏–º –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—á—Ç–æ–±—ã –º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ)
        modal.subscribeProvider((state) => {
            if (state.isConnected && state.address) {
                const shortAddr = state.address.substring(0,6) + "..." + state.address.substring(38);
                btn.innerText = "‚úÖ " + shortAddr;
                // –ú–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏ –Ω–∞ "–ü–æ–¥–∫–ª—é—á–µ–Ω–æ"
                btn.style.background = "#1a1a1a";
                btn.style.color = "#4cd964"; // –ó–µ–ª–µ–Ω—ã–π
                btn.style.border = "1px solid #4cd964";
            } else {
                btn.innerText = "Connect Wallet";
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–æ–ª–æ—Ç–æ–π —Å—Ç–∏–ª—å
                btn.style.background = "linear-gradient(135deg, #FFD700 0%, #FDB931 100%)";
                btn.style.color = "#000";
                btn.style.border = "none";
            }
        })
    </script>
</head>
<body>

    <!-- –®–ê–ü–ö–ê -->
    <div class="header fade-in">
        <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/logo.png" class="logo">
        <h2>Galactic Wallet</h2>
        <!-- –ù–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–æ–Ω–∞ —Ç–µ–ø–µ—Ä—å —É–º–Ω–∞—è) -->
        <button id="customConnectBtn">Connect Wallet</button>
    </div>

    <!-- –¢–ê–ë 1: –ö–û–®–ï–õ–ï–ö -->
    <div id="tab-wallet" class="tab-content active fade-in">
        <p style="color:#666; font-size:11px; text-transform:uppercase; letter-spacing:1px; margin-top:20px; font-weight:700;">YOUR RECEIVE ADDRESS</p>
        
        <div class="qr-card">
            <img src="https://raw.githubusercontent.com/Qendl/Galactic-Credit-Standard/main/QR_Official.png">
        </div>
        
        <div class="contract-addr" onclick="copyAddr()">
            0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378 ‚ùê
        </div>
    </div>

    <!-- –¢–ê–ë 2: –†–´–ù–û–ö -->
    <div id="tab-market" class="tab-content fade-in">
        <div class="action-list">
            
            <div class="action-item" onclick="window.open('https://app.uniswap.org/explore/tokens/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">ü¶Ñ</span>
                <span class="label">Uniswap Pool</span>
                <span class="arrow">‚Üó</span>
            </div>

            <div class="action-item" onclick="window.open('https://www.geckoterminal.com/ru/polygon_pos/pools/0x47f05d2098645a458f8631af45e1884c594b19e2b23a595c0f88148c6f6544e7')">
                <span class="icon">ü¶é</span>
                <span class="label">GeckoTerminal</span>
                <span class="arrow">‚Üó</span>
            </div>

            <div class="action-item" onclick="window.open('https://dexscreener.com/polygon/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìä</span>
                <span class="label">DEXScreener</span>
                <span class="arrow">‚Üó</span>
            </div>

        </div>
    </div>

    <!-- –¢–ê–ë 3: –ò–ù–§–û -->
    <div id="tab-info" class="tab-content fade-in">
        <div class="action-list">
            
            <a href="https://t.me/Galactic_Credit_Network" target="_blank" class="action-item">
                <span class="icon">üì¢</span>
                <span class="label">Official Channel</span>
                <span class="arrow">‚Ä∫</span>
            </a>

            <a href="https://github.com/Qendl/Galactic-Credit-Standard" target="_blank" class="action-item">
                <span class="icon">üêô</span>
                <span class="label">GitHub Source Code</span>
                <span class="arrow">‚Ä∫</span>
            </a>

            <div class="action-item" onclick="window.open('https://polygonscan.com/token/0x5f9016b380782bd98d2c7893e5b2e39e95dd1378')">
                <span class="icon">üìú</span>
                <span class="label">Verified Contract</span>
                <span class="arrow">‚Üó</span>
            </div>

        </div>
        <p style="margin-top:30px; color:#333; font-size:12px;">App Version 3.0 ‚Ä¢ Secure</p>
    </div>

    <!-- –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ -->
    <div class="nav-bar">
        <button class="nav-btn active" onclick="switchTab('tab-wallet', this)">
            <span class="icon">‚üê</span>
            <span>Wallet</span>
        </button>
        <button class="nav-btn" onclick="switchTab('tab-market', this)">
            <span class="icon">üìä</span>
            <span>Market</span>
        </button>
        <button class="nav-btn" onclick="switchTab('tab-info', this)">
            <span class="icon">‚ÑπÔ∏è</span>
            <span>Info</span>
        </button>
    </div>

    <!-- JS –°–ö–†–ò–ü–¢ -->
    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function switchTab(id, navBtn) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(id).classList.add('active');
            navBtn.classList.add('active');
        }

        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
        function copyAddr() {
            navigator.clipboard.writeText('0x5F9016b380782bd98D2C7893e5b2E39e95Dd1378');
            if(navigator.vibrate) navigator.vibrate(50);
            alert('Contract Copied!');
        }
    </script>
</body>
</html>
